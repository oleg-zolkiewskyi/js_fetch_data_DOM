{"version":3,"sources":["scripts/main.js"],"names":["urlList","urlDetails","getPhones","fetch","then","response","ok","headers","get","includes","Promise","reject","Error","json","createList","phonesList","ul","document","createElement","querySelector","append","map","phone","li","innerText","name","id","getPhonesDetails","urls","all","catch","error","setTimeout"],"mappings":";AAAA,aAEA,IAAMA,EACJ,wEACIC,EACJ,oEAEIC,EAAY,WACTC,OAAAA,MAAMH,GACVI,KAAK,SAAAC,GACA,OAACA,EAASC,IACTD,EAASE,QAAQC,IAAI,gBAAgBC,SAAS,oBAC1CC,QAAQC,OAAO,IAAIC,MAAM,aAG3BP,EAASQ,UAItB,SAASC,EAAWC,GACZC,IAAAA,EAAKC,SAASC,cAAc,MAI3BH,OAFPE,SAASE,cAAc,QAAQC,OAAOJ,GAE/BD,EAAWM,IAAI,SAAAC,GACdC,IAAAA,EAAKN,SAASC,cAAc,MAK3BI,OAHPC,EAAGC,UAAYF,EAAMG,KACrBT,EAAGI,OAAOG,GAEHD,EAAMI,KAIjB,SAASC,EAAiBD,GAClBE,IAAAA,EAAOF,EAAGL,IAAI,SAAAC,GAAYrB,MAAAA,GAAAA,OAAAA,GAAaqB,OAAAA,EAAMI,GAA1B,WAElBhB,OAAAA,QAAQmB,IAAID,GAGrB1B,IACGE,KAAKU,GACLV,KAAKuB,GACLG,MAAM,SAAAC,GAASC,OAAAA,WAAW,WAAMD,OAAAA,GAAO","file":"main.ec37a5bf.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst urlList\n= 'https://mate-academy.github.io/phone-catalogue-static/api/phones.json';\nconst urlDetails\n= 'https://mate-academy.github.io/phone-catalogue-static/api/phones/';\n\nconst getPhones = () => {\n  return fetch(urlList)\n    .then(response => {\n      if (!response.ok\n        && response.headers.get('content-type').includes('application/json')) {\n        return Promise.reject(new Error('Error!!!'));\n      }\n\n      return response.json();\n    });\n};\n\nfunction createList(phonesList) {\n  const ul = document.createElement('ul');\n\n  document.querySelector('body').append(ul);\n\n  return phonesList.map(phone => {\n    const li = document.createElement('li');\n\n    li.innerText = phone.name;\n    ul.append(li);\n\n    return phone.id;\n  });\n}\n\nfunction getPhonesDetails(id) {\n  const urls = id.map(phone => `${urlDetails}${phone.id}.json`);\n\n  return Promise.all(urls);\n};\n\ngetPhones()\n  .then(createList)\n  .then(getPhonesDetails)\n  .catch(error => setTimeout(() => error, 5000));\n"]}